{pkgs, ...}: {
  programs.autorandr = {
    enable = true;
    profiles = {
      mobile = {
        fingerprint = {
          eDP-1 = "00ffffffffffff004d10d61400000000051e0104b52517780a9e15ab5233b9250b50550000000101010101010101010101010101010172e700a0f0604590302036006ee51000001828b900a0f0604590302036006ee510000018000000fe00374a584b38814c513137305231000000000002410332011200000b010a2020016802030f00e3058000e606050160602800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aa";
        };
        config = {
          eDP-1 = {
            enable = true;
            crtc = 0;
            mode = "3840x2400";
            position = "0x0";
            primary = true;
            rate = "59.99";
          };
          DP-1-1.enable = false;
        };
        hooks.postswitch = ''
          for desktop in {1..10}; do
            bspc desktop "$desktop" -m eDP-1
          done
          bspc desktop -f last
        '';
      };
      portable_monitor = {
        fingerprint = {
          DP-3 = "00ffffffffffff006474c4450000000002200104b52419782bef65a656529d280b505421080071408180a9c0d1c00101010101010101d83680a070382d40302045007fd71000001e000000ff000a202020202020202020202020000000fc004d3137334630310a2020202020000000fd00303c646414010a202020202020014b020320f245900102030423097f0783010000e305c000e200c0e6060501626228023a801871382d40582c4500dd0c1100001e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e1";
          eDP-1 = "00ffffffffffff004d10d61400000000051e0104b52517780a9e15ab5233b9250b50550000000101010101010101010101010101010172e700a0f0604590302036006ee51000001828b900a0f0604590302036006ee510000018000000fe00374a584b38814c513137305231000000000002410332011200000b010a2020016802030f00e3058000e606050160602800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aa";
        };
        config = {
          eDP-1 = {
            primary = true;
            enable = true;
            crtc = 0;
            mode = "3840x2400";
            position = "0x0";
            rate = "59.99";
          };
          DP-3 = {
            enable = true;
            crtc = 1;
            mode = "1920x1080";
            position = "3840x0";
            rate = "60.00";
            transform = [
              [2.221863 0.000000 0.000000]
              [0.000000 2.222214 0.000000]
              [0.000000 0.000000 1.000000]
            ];
          };
        };
        hooks.postswitch = ''
          for desktop in {1..5}; do
            bspc desktop "$desktop" -m eDP-1
          done
          for desktop in {6..10}; do
            bspc desktop "$desktop" -m DP-3
          done
          bspc desktop -f last
        '';
      };
    };
  };

  services.autorandr.enable = true;

  home.packages = with pkgs; [arandr];
}
